% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_timing.R
\name{first_observations_plot}
\alias{first_observations_plot}
\title{Plot Timing of First Observations Relative to Sunset}
\usage{
first_observations_plot(
  data_path,
  species,
  timezone,
  location_list = NULL,
  monitoring_start = NULL,
  monitoring_end = NULL,
  gaps = FALSE,
  save_path = NULL,
  width = 15.9,
  height = 8.43,
  text_size = 10,
  facet_cols = 2,
  facet_rows = NULL,
  date_label = "\%b",
  date_breaks = NULL,
  plot_title = NULL,
  plot_subtitle = NULL,
  plot_caption = NULL
)
}
\arguments{
\item{data_path}{Character. Path to an existing RData file containing
observation data.}

\item{species}{Character. Four-letter species code (e.g., "Epfu").}

\item{timezone}{Character. Timezone for calculating sunset times in TZ format
(e.g., "America/New_York", "America/Toronto"). See \code{OlsonNames()}.}

\item{location_list}{Character vector. Location names to include in the plot.
If \code{NULL} (default), includes all locations with data for this species.}

\item{monitoring_start}{Character. Monitoring start date (e.g., "2019-01-01").
If \code{NULL}, uses the earliest date in the dataset.}

\item{monitoring_end}{Character. Monitoring end date (e.g., "2019-12-31").
If \code{NULL}, uses the latest date in the dataset.}

\item{gaps}{Logical. If \code{TRUE}, adds grey blocks indicating periods when
recorders were inactive. Defaults to \code{FALSE}.}

\item{save_path}{Character. Full file path to save plot as PNG. If \code{NULL}
(default), plot is not saved.}

\item{width}{Numeric. Plot width in cm. Default is 15.9.}

\item{height}{Numeric. Plot height in cm. Default is 8.43.}

\item{text_size}{Numeric. Text size for plot labels. Default is 10.}

\item{facet_cols}{Integer. Number of facet columns. Default is 2.}

\item{facet_rows}{Integer. Number of facet rows. Default is \code{NULL} (all rows).}

\item{date_label}{Character. Date format for x-axis labels. Default is "%b".}

\item{date_breaks}{Character. Optional break specification (e.g., "1 month"). \code{NULL} = adaptive.}

\item{plot_title}{Character. Optional plot title.}

\item{plot_subtitle}{Character. Optional plot subtitle.}

\item{plot_caption}{Character. Optional plot caption.}
}
\value{
A ggplot2 object.
}
\description{
Creates a plot showing the first nightly observation of a species relative
to local sunset at each site. Useful for phenology and emergence timing analysis.
}
\examples{
\dontrun{
# Plot for all locations
first_observations_plot("data.RData",
  species = "Epfu",
  timezone = "America/Toronto"
)

# Plot for specific locations
first_observations_plot("data.RData",
  species = "Mylu",
  timezone = "America/New_York",
  location_list = c("Site1", "Site2")
)
}
}
\concept{Timing Plots}
